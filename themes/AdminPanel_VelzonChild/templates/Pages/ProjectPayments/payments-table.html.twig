{# Import Macros #}
{% import "@VSApplication/Macros/alerts.html.twig" as alerts %}

<table class="table table-striped table-hover vsTableSortable">
    <thead class="table-light">
        <tr>
            <th>N</th>
            <th data-sortable="true" data-field="project">{{ 'vankosoft_org.template.items_index_row_project' | trans( {},'VankoSoftOrg' ) }}</th>
            <th data-sortable="true" data-field="amount">{{ 'vankosoft_org.template.items_index_row_amount' | trans( {},'VankoSoftOrg' ) }}</th>
            <th>{{ 'vankosoft_org.template.items_index_row_for_period' | trans( {},'VankoSoftOrg' ) }}</th>
            <th data-sortable="true" data-field="createdAt">{{ 'vs_application.template.items_index_row_created' | trans( {},'VSApplicationBundle' ) }}</th>
            <th data-sortable="true" data-field="updatedAt">{{ 'vs_application.template.items_index_row_updated' | trans( {},'VSApplicationBundle' ) }}</th>
            <th width="150">{{ 'vs_application.template.items_index_row_action' | trans( {},'VSApplicationBundle' ) }}</th>
        </tr>
    </thead>
    <tbody>
        {% for item in resources %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ item.project.title }}</td>
                <td>{{ item.amount }}</td>
                <td>{{ item.fromDate | date( 'd.m.Y' ) }} - {{ item.toDate | date( 'd.m.Y' ) }}</td>
                <td>{{ item.createdAt | date( 'd.m.Y H:i:s' ) }}</td>
                <td>{{ item.updatedAt | date( 'd.m.Y H:i:s' ) }}</td>
                <td>
                    <div class="btn-group">
                        <a class="btn btn-primary"
                           href="{{ path('vsorg_projects_payments_update', {'id': item.id}) }}"
                           title="{{ 'vs_application.template.items_index_row_action_edit' | trans( {},'VSApplicationBundle' ) }}"
                        >
                            <i class="fas fa-edit"></i>
                        </a>
                        <a class="btn btn-danger btnDeleteResource"
                            href="{{ path('vsorg_projects_payments_delete', {'id': item.id}) }}"
                            data-csrfToken="{{ csrf_token( item.id ) }}"
                            data-redirectUrl="{{ path( 'vsorg_projects_payments_index' ) }}"
                            title="{{ 'vs_application.template.items_index_row_action_delete' | trans( {},'VSApplicationBundle' ) }}"
                        >
                            <i class="icon_close_alt2"></i>
                        </a>
                    </div>
                </td>
            </tr>
        {% else %}
            {{ alerts.info( 'vs_application.template.there_are_no_items_to_display' | trans( {},'VSApplicationBundle' ) ) }}
        {% endfor %}
    </tbody>
</table>